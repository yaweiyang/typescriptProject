{"code":"!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),n(1),n(2);document.getElementsByClassName(\"app\")[0].innerHTML=\"hello Typescript\"},function(t,e,n){\"use strict\";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(){this.element_A=0,this.element_B=0}return t.prototype.getResult=function(){return 0},t}(),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getResult=function(){return this.element_A+this.element_B},e}(i),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getResult=function(){return this.element_A-this.element_B},e}(i),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getResult=function(){return this.element_A*this.element_B},e}(i),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getResult=function(){if(0==this.element_B)throw Error(\"除数不能为零\");return this.element_A/this.element_B},e}(i),l=function(){function t(){}return t.getInstance=function(){return t.ins||(t.ins=new t),t.ins},t.prototype.createFactory=function(t){var e=new i;switch(t){case\"ADD\":e=new c;break;case\"SUBTRACT\":e=new s;break;case\"MULTIPLY\":e=new u;break;case\"DIVIDE\":e=new a}return e},t}(),h=function(){function t(){this.randomRange=100,this.calculateTypes=[\"ADD\",\"SUBTRACT\",\"MULTIPLY\",\"DIVIDE\"],this.initConsoleAction()}return t.prototype.initConsoleAction=function(){try{var t=this.randomCalculateElement(),e=this.randomCalculateElement(),n=this.randomCalculateType(),r=l.getInstance().createFactory(n);r.element_A=t,r.element_B=e,console.log(r.element_A,r.element_B,\"进行\",n,\" 运算\",\"结果为：\",r.getResult())}catch(t){console.log(t)}},t.prototype.randomCalculateElement=function(){return Math.floor(Math.random()*this.randomRange)},t.prototype.randomCalculateType=function(){return this.calculateTypes[Math.floor(Math.random()*this.calculateTypes.length)]},t}();e.default=h,new h},function(t,e,n){\"use strict\";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=function(t){console.log(\"***************\"+t+\"***************\")},c=function(){function t(){this.total=0,this.cashTypes=[\"正常收费\",\"满300返100\",\"打八折\"],this.messages=[]}return t.prototype.randomCashType=function(){var t=Math.floor(Math.random()*this.cashTypes.length);return this.cashTypes[t]},t.prototype.randomCount=function(){return Math.floor(30*Math.random())},t.prototype.randomPrice=function(){return Math.floor(100*Math.random())},t}(),s=function(){},u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.acceptCash=function(t){return t},e}(s),a=function(t){function e(e){var n=t.call(this)||this;return n.rebate=1,n.rebate=e,n}return o(e,t),e.prototype.acceptCash=function(t){return Math.floor(t*this.rebate*100)/100},e}(s),l=function(t){function e(e,n){var r=t.call(this)||this;return r.returnCondition=0,r.returnCash=0,r.returnCondition=e,r.returnCash=n,r}return o(e,t),e.prototype.acceptCash=function(t){var e=t;return e>=this.returnCondition&&(e=t-Math.floor(t/this.returnCondition)*this.returnCash),e=Math.floor(100*e)/100},e}(s),h=function(){function t(){}return t.createCashAccepet=function(t){var e=null;switch(t){case\"正常收费\":e=new u;break;case\"满300返100\":e=new l(300,100);break;case\"打八折\":e=new a(.8)}return e},t}(),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.ClickEvent=function(t){var e=this.randomCashType(),n=this.randomCount(),r=this.randomPrice(),o=h.createCashAccepet(e).acceptCash(r*n);this.total+=o;var i=\"顾客购买某种商品 单价：\"+r+\" 数量：\"+n+\" 收费类型：\"+e+\" 合计：\"+o;this.messages.push(i),console.log(this.messages.toString()),console.log(\"当前总金额为：\",this.total)},e}(c);i(\"简单工厂模式\");var f=new p;f.ClickEvent(),f.ClickEvent(),f.ClickEvent(),f.ClickEvent();var y=function(){function t(t){this.cash=t}return t.prototype.contextInterface=function(t){return this.cash.acceptCash(t)},t}(),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.ClickEvent=function(t){var e=this.randomCount(),n=this.randomPrice(),r=this.randomCashType(),o=null;switch(r){case\"正常收费\":o=new y(new u);break;case\"满300返100\":o=new y(new l(300,100));break;case\"打八折\":o=new y(new a(.8))}var i=o.contextInterface(n*e);this.total+=i;var c=\"顾客购买某种商品 单价：\"+n+\" 数量：\"+e+\" 收费类型：\"+r+\" 合计：\"+i;this.messages.push(c),console.log(this.messages.toString()),console.log(\"当前总金额为：\",this.total)},e}(c);i(\"策略模式\");var d=new m;d.ClickEvent(),d.ClickEvent(),d.ClickEvent(),d.ClickEvent();var v=function(){function t(t){this.cash=null;var e=null;switch(t){case\"正常收费\":e=new u;break;case\"满300返100\":e=new l(300,100);break;case\"打八折\":e=new a(.8)}this.cash=e}return t.prototype.contextInterface=function(t){return this.cash.acceptCash(t)},t}(),C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.ClickEvent=function(t){var e=this.randomCount(),n=this.randomPrice(),r=this.randomCashType(),o=new v(r).contextInterface(e*n);this.total+=o;var i=\"顾客购买某种商品 单价：\"+n+\" 数量：\"+e+\" 收费类型：\"+r+\" 合计：\"+o;this.messages.push(i),console.log(this.messages.toString()),console.log(\"当前总金额为：\",this.total)},e}(c);i(\"简单工厂-策略模式\");var _=new C;_.ClickEvent(),_.ClickEvent(),_.ClickEvent(),_.ClickEvent()}]);","extractedComments":[]}